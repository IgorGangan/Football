/* style.css */
:root{
  --bg:#0f0f10;
  --panel:#1b1b1e;
  --shadow: 0 18px 55px rgba(0,0,0,.55);
  --glass: rgba(0,0,0,.35);
  --glass2: rgba(0,0,0,.26);
  --line: rgba(255,255,255,.10);
}

*{ box-sizing:border-box; }
html, body{ height:100%; }
body{
  margin:0;
  background: radial-gradient(1200px 700px at 50% 40%, #1c1c1f, var(--bg));
  font-family: Arial, Helvetica, sans-serif;
  overflow:hidden;
  user-select:none;
}

/* MENU */
#menu{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  z-index:3000;
}
#menu .panel{
  width:430px;
  background: rgba(27,27,30,.96);
  border:1px solid rgba(255,255,255,.08);
  border-radius:22px;
  padding:30px 30px 18px;
  box-shadow: var(--shadow);
  color:#fff;
  text-align:center;
}
#menu h1{ margin:0 0 18px; font-size:38px; }
#menu label{
  display:block;
  text-align:left;
  margin:12px 0 6px;
  opacity:.95;
}
#menu input, #menu select{
  width:100%;
  padding:12px;
  border-radius:14px;
  border:none;
  outline:none;
  font-size:16px;
  background:#fff;
}
#menu .row{
  display:flex; gap:12px;
  margin-top:10px;
}
#menu .col{ flex:1; }
#playBtn{
  margin-top:16px;
  width:100%;
  padding:14px;
  border:none;
  border-radius:16px;
  font-size:20px;
  font-weight:900;
  background:#39d47a;
  color:#111;
  cursor:pointer;
}
#playBtn:hover{ filter:brightness(.95); }
#menu .hint{
  margin:12px 0 0;
  font-size:13px;
  opacity:.82;
  line-height:1.35;
}

/* CANVAS */
#gameCanvas{
  display:none;
  position:fixed;
  left:50%;
  top:55%;
  transform:translate(-50%,-50%);
  border:6px solid rgba(255,255,255,.95);
  border-radius:12px;
  box-shadow: var(--shadow);
  background:#23b75f;
  z-index:100;

  /* responsive scaling for iPad/mobile */
  width: min(96vw, 1100px);
  height: auto;
  max-height: 78vh;
}

/* HUD */
#hud{
  position:fixed;
  top: calc(10px + env(safe-area-inset-top));
  left:10px;
  right:10px;
  display:none;
  gap:10px;
  align-items:stretch;
  z-index:2000;

  /* IMPORTANT: keep clicks working on iOS */
  pointer-events: auto;

  color:#fff;
  text-shadow: 0 3px 14px rgba(0,0,0,.55);
}
.hudBox{
  background: var(--glass);
  border:1px solid var(--line);
  border-radius:16px;
  padding:10px 12px;
  display:flex;
  align-items:center;
  gap:10px;
  backdrop-filter: blur(6px);
}

/* only left box clickable (HOME). mid/right do not block gameplay */
.hudBox.mid, .hudBox.right{ pointer-events:none; }
.hudBox.left{ pointer-events:auto; }

.hudBox.left{ width:160px; justify-content:flex-start; }
.hudBox.mid{ flex:1; justify-content:center; flex-direction:column; }
.hudBox.right{ width:220px; justify-content:center; }

#homeBtn{
  border:none;
  background: rgba(255,255,255,.18);
  color:white;
  padding:10px 12px;
  border-radius:12px;
  font-size:16px;
  cursor:pointer;
}
#homeBtn:hover{ background: rgba(255,255,255,.24); }

.names{ font-size:14px; opacity:.95; letter-spacing:.6px; }
.score{ font-size:34px; font-weight:900; line-height:1.05; }
.meta{ margin-top:6px; display:flex; gap:8px; justify-content:center; flex-wrap:wrap; }
.pill{
  font-size:12px;
  opacity:.95;
  background: var(--glass2);
  border:1px solid var(--line);
  padding:5px 10px;
  border-radius:999px;
}
.controlsLine{
  font-size:13px;
  opacity:.95;
  display:flex;
  gap:8px;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
}
.chip{
  display:inline-block;
  padding:3px 8px;
  border-radius:999px;
  background: rgba(255,255,255,.16);
  font-weight:800;
}

/* Overlay text */
#overlayText{
  position:fixed;
  left:50%;
  top:52%;
  transform:translate(-50%,-50%);
  font-size:90px;
  font-weight:900;
  color:gold;
  text-shadow:0 0 32px rgba(0,0,0,.75);
  opacity:0;
  transition:.16s;
  z-index:2500;
  pointer-events:none;
}

/* Result modal */
#resultModal{
  position:fixed; inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:4000;
  background: rgba(0,0,0,.55);
  pointer-events:auto;
}
#resultModal .panel{
  width:420px;
  background: rgba(27,27,30,.96);
  border:1px solid rgba(255,255,255,.10);
  border-radius:22px;
  padding:24px;
  box-shadow: var(--shadow);
  color:#fff;
  text-align:center;
}
#resultModal h2{ margin:0 0 10px; font-size:34px; }
.resultScore{ font-size:46px; font-weight:900; margin:8px 0; }
.resultLine{ opacity:.9; margin-bottom:16px; }

.btnRow{ display:flex; gap:10px; justify-content:center; }
button.primary{
  border:none;
  border-radius:14px;
  padding:12px 14px;
  font-size:16px;
  font-weight:900;
  cursor:pointer;
  background:#39d47a;
  color:#111;
}
button.primary:hover{ filter:brightness(.95); }

button.ghost{
  border:1px solid rgba(255,255,255,.18);
  border-radius:14px;
  padding:12px 14px;
  font-size:16px;
  font-weight:900;
  cursor:pointer;
  background: rgba(255,255,255,.10);
  color:#fff;
}
button.ghost:hover{ background: rgba(255,255,255,.14); }

/* Mobile controls (joysticks) */
#mobileControls{
  position:fixed;
  left:0; right:0; bottom:0;
  height:180px;
  display:none;
  z-index:1800;
  pointer-events:none;
}
.joyWrap{
  position:absolute;
  bottom:16px;
  width:160px;
  height:160px;
  pointer-events:none;
}
#joy1Wrap{ left:18px; }
#joy2Wrap{ right:18px; }

.joyBase{
  width:140px; height:140px;
  border-radius:50%;
  background: rgba(0,0,0,.25);
  border:1px solid rgba(255,255,255,.12);
  position:relative;
  box-shadow: 0 10px 30px rgba(0,0,0,.25);
  pointer-events:auto;
  touch-action:none;
}
.joyKnob{
  width:60px; height:60px;
  border-radius:50%;
  background: rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.16);
  position:absolute;
  left:50%; top:50%;
  transform: translate(-50%, -50%);
}
.joyLabel{
  margin-top:8px;
  text-align:center;
  font-weight:900;
  color:#fff;
  opacity:.9;
  text-shadow: 0 3px 14px rgba(0,0,0,.55);
  pointer-events:none;
}
